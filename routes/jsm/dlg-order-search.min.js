function doDlgOrderSearch(){var t=[];$("#dlgOrderSearch").dialog({onClose:function(){},onOpen:function(){$("#cbSearchOrderClients").combotree({valueField:"id",textField:"name",multiple:!0,data:cache_clients}),$("#cbSearchOrderShipCountry").combobox({valueField:"country",textField:"country",limitToList:!0,data:cache_countries,onSelect:function(e){t=doGetStatesFromCountry(e.country),$("#cbSearchOrderShipState").combobox("loadData",t)}}),$("#cbSearchOrderShipState").combobox({valueField:"state",textField:"state",limitToList:!0,data:t}),$("#cbSearchOrderStatus").combobox({valueField:"id",textField:"name",limitToList:!0,data:orderstatustypes}),$("#dtSearchDateStart").datebox(),$("#dtSearchDateEnd").datebox(),doTextboxFocus("fldSearchOrderNo")},buttons:[{text:"Search",handler:function(){var e=$("#fldSearchOrderNo").textbox("getValue"),t=$("#fldSearchPONo").textbox("getValue"),r=$("#fldSearchOrderName").textbox("getValue"),a=$("#fldSearchOrderVersion").textbox("getValue"),o=$("#cbSearchOrderClients").combotree("getValues"),c=$("#fldSearchOrderShipPostcode").textbox("getValue"),d=$("#fldSearchOrderShipCity").textbox("getValue"),l=$("#cbSearchOrderShipCountry").combobox("getValue"),S=$("#cbSearchOrderShipState").combobox("getValue"),h=$("#cbSearchOrderStatus").combobox("getValue"),i=$("#dtSearchDateStart").datebox("getValue"),b=$("#dtSearchDateEnd").datebox("getValue"),x=$("#cbSearchOrderMaxHistory").combobox("getValue");doServerDataMessage("searchorders",{orderno:e,pono:t,name:r,version:a,clients:o,shippostcode:c,shipcity:d,shipcountry:l,shipstate:S,status:h,datefrom:i,dateto:b,maxhistory:x},{type:"refresh"})}},{text:"Reset",handler:function(){$("#fldSearchOrderNo").textbox("clear"),$("#fldSearchPONo").textbox("clear"),$("#fldSearchOrderName").textbox("clear"),$("#fldSearchOrderVersion").textbox("clear"),$("#cbSearchOrderClients").combotree("clear"),$("#fldSearchOrderShipPostcode").textbox("clear"),$("#fldSearchOrderShipCity").textbox("clear"),$("#cbSearchOrderShipCountry").combobox("clear"),$("#cbSearchOrderShipState").combobox("clear"),$("#cbSearchOrderStatus").combobox("clear"),$("#dtSearchDateStart").datebox("clear"),$("#dtSearchDateEnd").datebox("clear"),doServerMessage("listorders",{type:"refresh"})}},{text:"Close",handler:function(){$("#dlgOrderSearch").dialog("close")}}]}).dialog("center").dialog("open")}