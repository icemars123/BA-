function doDlgRepTopXXProductsByValue(){function e(e,t){0<t.data.rs.length&&(t.data.rs.forEach(function(e){e.totalprice=parseFloat(e.totalprice),e.productname=doNiceTitleizeString(e.productname)}),$("#divRepTopXXProductsByValueChart").dxPieChart({dataSource:t.data.rs,tooltip:{enabled:!0,percentPrecision:2,customizeText:function(){return this.argumentText+" - "+this.percentText}},legend:{horizontalAlignment:"right",verticalAlignment:"top",margin:0},series:[{type:"doughnut",argumentField:"productname",valueField:"totalprice",label:{visible:!0,connector:{visible:!0}}}]}))}$("#divEvents").on("report-topxxproductsbyvalue",e),$("#dlgRepTopXXProductsByValue").dialog({onClose:function(){$("#divEvents").off("report-topxxproductsbyvalue",e)},onOpen:function(){$("#dtRepTopXXProductsByValueDateFrom").datebox(),$("#dtRepTopXXProductsByValueDateTo").datebox(),doTextboxFocus("dtRepTopXXProductsByValueDateFrom")},buttons:[{text:"Run",handler:function(){var e=$("#dtRepTopXXProductsByValueDateFrom").datebox("getValue"),t=$("#dtRepTopXXProductsByValueDateTo").datebox("getValue"),o=moment();if(_.isBlank(e)&&_.isBlank(t))doMandatoryTextbox("Please select a start and end date for the report","dtRepTopXXProductsByValueDateFrom");else{if(_.isBlank(t)){if(moment(e).isAfter(o))return void doMandatoryTextbox("Start date can not be after today...","dtRepTopXXProductsByValueDateFrom");t=o.format("YYYY-MM-DD hh:mm:ss")}if(_.isBlank(e)){if(moment(t).isBefore(o))return void doMandatoryTextbox("End date can not be before today...","dtRepTopXXProductsByValueDateTo");e=o.format("YYYY-MM-DD hh:mm:ss")}doServerDataMessage("report",{report:"topxxproductsbyvalue",datefrom:e,dateto:t},{type:"refresh"})}}},{text:"Reset",handler:function(){$("#dtRepTopXXProductsByValueDateFrom").datebox("clear"),$("#dtRepTopXXProductsByValueDateTo").datebox("clear")}},{text:"Close",handler:function(){$("#dlgRepTopXXProductsByValue").dialog("close")}}]}).dialog("center").dialog("open")}