function doDlgProductChangeCategory(o){function e(e,o){$("#dlgProductChangeCategory").dialog("close")}$("#divEvents").on("changeproductcategory",e),$("#dlgProductChangeCategory").dialog({title:"Change Category for "+o.name,onClose:function(){$("#divEvents").off("changeproductcategory",e)},onOpen:function(){$("#cbProductChangeCategory").combotree({valueField:"id",textField:"name",data:cache_productcategories,limitToList:!0}),doTextboxFocus("cbProductChangeCategory")},buttons:[{text:"Change",handler:function(){var e=doGetComboTreeSelectedId("cbProductChangeCategory");_.isBlank(e)?doMandatoryTextbox("Please select a category","cbProductChangeCategory"):doServerDataMessage("changeproductcategory",{productid:o.id,productcategoryid:e},{type:"refresh"})}},{text:"Close",handler:function(){$("#dlgProductChangeCategory").dialog("close")}}]}).dialog("center").dialog("open")}