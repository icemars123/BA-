function doDlgRepTopXXProductsByQty(){function t(t,e){0<e.data.rs.length&&(e.data.rs.forEach(function(t){t.numsold=parseFloat(t.numsold),t.productname=doNiceTitleizeString(t.productname)}),$("#divRepTopXXProductsByQtyChart").dxPieChart({dataSource:e.data.rs,tooltip:{enabled:!0,percentPrecision:2,customizeText:function(){return this.argumentText+" - "+this.percentText}},legend:{horizontalAlignment:"right",verticalAlignment:"top",margin:0},series:[{type:"doughnut",argumentField:"productname",valueField:"numsold",label:{visible:!0,connector:{visible:!0}}}]}))}$("#divEvents").on("report-topxxproductsbyqty",t),$("#dlgRepTopXXProductsByQty").dialog({onClose:function(){$("#divEvents").off("report-topxxproductsbyqty",t)},onOpen:function(){$("#dtRepTopXXProductsByQtyDateFrom").datebox(),$("#dtRepTopXXProductsByQtyDateTo").datebox(),doTextboxFocus("dtRepTopXXProductsByQtyDateFrom")},buttons:[{text:"Run",handler:function(){var t=$("#dtRepTopXXProductsByQtyDateFrom").datebox("getValue"),e=$("#dtRepTopXXProductsByQtyDateTo").datebox("getValue"),o=moment();if(_.isBlank(t)&&_.isBlank(e))doMandatoryTextbox("Please select a start and end date for the report","dtRepTopXXProductsByQtyDateFrom");else{if(_.isBlank(e)){if(moment(t).isAfter(o))return void doMandatoryTextbox("Start date can not be after today...","dtRepTopXXProductsByQtyDateFrom");e=o.format("YYYY-MM-DD hh:mm:ss")}if(_.isBlank(t)){if(moment(e).isBefore(o))return void doMandatoryTextbox("End date can not be before today...","dtRepTopXXProductsByQtyDateTo");t=o.format("YYYY-MM-DD hh:mm:ss")}doServerDataMessage("report",{report:"topxxproductsbyqty",datefrom:t,dateto:e},{type:"refresh"})}}},{text:"Reset",handler:function(){$("#dtRepTopXXProductsByQtyDateFrom").datebox("clear"),$("#dtRepTopXXProductsByQtyDateTo").datebox("clear")}},{text:"Close",handler:function(){$("#dlgRepTopXXProductsByQty").dialog("close")}}]}).dialog("center").dialog("open")}