exports.throwSupplierAttachmentGet=function(n,a){var l={message:"No file to download"};__.isUndefined(n.query)||__.isNull(n.query)?a.json(l):__.isUndefined(n.query.supplierattachmentid)||__.isNull(n.query.supplierattachmentid)?a.json(l):global.modsuppliers.existingSupplierAttachment({supplierattachmentid:n.query.supplierattachmentid,uuid:n.query.uuid},function(e,t){if(e)a.json(l);else{var i=global.path.join(__dirname,global.config.folders.clientattachments+n.query.supplierattachmentid+"_"+t.supplierid+"_"+t.name);a.attachment(t.name),a.download(i,t.name)}})};