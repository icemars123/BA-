function doDlgRepTopXXOrders(){function e(e,t){0<t.data.rs.length&&(t.data.rs.forEach(function(e){e.totalprice=parseFloat(e.totalprice),e.clientname=doNiceTitleizeString(e.clientname)}),$("#divRepTopXXOrdersChart").dxPieChart({dataSource:t.data.rs,tooltip:{enabled:!0,percentPrecision:2,customizeText:function(){return this.argumentText+" - "+this.percentText}},legend:{horizontalAlignment:"right",verticalAlignment:"top",margin:0},series:[{type:"doughnut",argumentField:"clientname",valueField:"totalprice",label:{visible:!0,connector:{visible:!0}}}]}))}$("#divEvents").on("report-topxxorders",e),$("#dlgRepTopXXOrders").dialog({onClose:function(){$("#divEvents").off("report-topxxorders",e)},onOpen:function(){$("#dtRepTopXXOrdersDateFrom").datebox(),$("#dtRepTopXXOrdersDateTo").datebox(),doTextboxFocus("dtRepTopXXOrdersDateFrom")},buttons:[{text:"Run",handler:function(){var e=$("#dtRepTopXXOrdersDateFrom").datebox("getValue"),t=$("#dtRepTopXXOrdersDateTo").datebox("getValue"),o=moment();if(_.isBlank(e)&&_.isBlank(t))doMandatoryTextbox("Please select a start and end date for the report","dtRepTopXXOrdersDateFrom");else{if(_.isBlank(t)){if(moment(e).isAfter(o))return void doMandatoryTextbox("Start date can not be after today...","dtRepTopXXOrdersDateFrom");t=o.format("YYYY-MM-DD hh:mm:ss")}if(_.isBlank(e)){if(moment(t).isBefore(o))return void doMandatoryTextbox("End date can not be before today...","dtRepTopXXOrdersDateTo");e=o.format("YYYY-MM-DD hh:mm:ss")}doServerDataMessage("report",{report:"topxxorders",datefrom:e,dateto:t},{type:"refresh"})}}},{text:"Reset",handler:function(){$("#dtRepTopXXOrdersDateFrom").datebox("clear"),$("#dtRepTopXXOrdersDateTo").datebox("clear")}},{text:"Close",handler:function(){$("#dlgRepTopXXOrders").dialog("close")}}]}).dialog("center").dialog("open")}