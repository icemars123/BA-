function doDlgPVDepositAdd(){function e(){$("#cbPVDepositMember").combotree("clear"),$("#cbPVDepositType").combobox("clear"),$("#cbPVDepositReason").combobox("clear"),$("#cbPVDepositClass").combobox("clear"),$("#fldPVDepositReference").textbox("clear"),$("#fldPVDepositAmount").numberbox("clear"),doTextboxFocus("fldPVDepositReference")}$("#dlgPVDepositAdd").dialog({onClose:function(){},onOpen:function(){$("#cbPVDepositMember").combotree({valueField:"id",textField:"lastname",data:cache_employees}),$("#cbPVDepositType").combobox({valueField:"id",textField:"name",data:paymenttypes}),$("#cbPVDepositReason").combobox({valueField:"id",textField:"name",data:paymentreasons}),$("#cbPVDepositClass").combobox({valueField:"id",textField:"name",data:classtypes}),$("#dtPVDepositDate").datebox(),e()},buttons:[{text:"Add",handler:function(){var e=doGetComboTreeSelectedId("cbPVDepositMember"),o=$("#fldPVDepositReference").textbox("getValue"),t=$("#cbPVDepositType").combobox("getValue"),a=$("#cbPVDepositReason").combobox("getValue"),d=$("#cbPVDepositClass").combobox("getValue"),l=$("#dtPVDepositDate").datebox("getValue"),s=$("#fldPVDepositAmount").numberbox("getValue");$("#divEvents").trigger("pvdepositadded",{memberid:e,refno:o,type:t,reason:a,classtype:d,amount:s,date:l,pdata:""}),$("#dlgPVDepositAdd").dialog("close")}},{text:"Reset",handler:function(){e()}},{text:"Close",handler:function(){$("#dlgPVDepositAdd").dialog("close")}}]}).dialog("center").dialog("open")}