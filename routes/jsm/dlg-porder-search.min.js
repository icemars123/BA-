function doDlgPOrderSearch(){var r=[];$("#dlgPOrderSearch").dialog({onClose:function(){},onOpen:function(){$("#cbSearchPOrderSuppliers").combotree({valueField:"id",textField:"name",multiple:!0,data:cache_suppliers}),$("#cbSearchPOrderCountry").combobox({valueField:"country",textField:"country",data:cache_countries,onSelect:function(e){r=doGetStatesFromCountry(e.country),$("#cbSearchPOrderState").combobox("loadData",r)}}),$("#cbSearchPOrderState").combobox({valueField:"state",textField:"state",data:r}),$("#dtSearchPOrderDateStart").datebox(),$("#dtSearchPOrderDateEnd").datebox(),doTextboxFocus("fldSearchPOrderNo")},buttons:[{text:"Search",handler:function(){var e=$("#fldSearchPOrderNo").textbox("getValue"),r=$("#fldSearchPOrderName").textbox("getValue"),t=$("#cbSearchPOrderSuppliers").combotree("getValues"),a=$("#fldSearchPOrderPostcode").textbox("getValue"),o=$("#fldSearchPOrderCity").textbox("getValue"),c=$("#cbSearchPOrderCountry").combobox("getValue"),d=$("#cbSearchPOrderState").combobox("getValue"),l=$("#dtSearchPOrderDateStart").datebox("getValue"),b=$("#dtSearchPOrderDateEnd").datebox("getValue"),S=$("#cbSearchPOrderMaxHistory").combobox("getValue");doServerDataMessage("searchporders",{porderno:e,name:r,suppliers:t,postcode:a,city:o,country:c,state:d,datefrom:l,dateto:b,maxhistory:S},{type:"refresh"})}},{text:"Reset",handler:function(){$("#fldSearchPOrderNo").textbox("clear"),$("#fldSearchPOrderName").textbox("clear"),$("#cbSearchPOrderSuppliers").combotree("clear"),$("#fldSearchPOrderPostcode").textbox("clear"),$("#fldSearchPOrderCity").textbox("clear"),$("#cbSearchPOrderCountry").combobox("clear"),$("#cbSearchPOrderState").combobox("clear"),$("#dtSearchPOrderDateStart").datebox("clear"),$("#dtSearchPOrderDateEnd").datebox("clear"),doServerMessage("listporders",{type:"refresh"})}},{text:"Close",handler:function(){$("#dlgPOrderSearch").dialog("close")}}]}).dialog("center").dialog("open")}