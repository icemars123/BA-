function doVoiceCommands(){if(annyang){var e=function(){doShowInfo("Received voice command: Preparing to create new order"),doSelectSalesTab("Orders"),$("#divEvents").trigger("orderspopup","clear"),$("#divEvents").trigger("orderspopup","new")},r=function(e){if(doSelectSalesTab("Orders"),$("#divEvents").trigger("orderspopup","search"),_.isUndefined(e))doShowInfo("Received voice command: Search for orders");else{var r=_.truncate(e,50,"");doShowInfo("Received voice command: Search for orders with ["+r+"]"),$("#fldSearchOrderNo").textbox("setValue",r),primus.emit("searchorders",{fguid:fguid,uuid:uuid,session:session,orderno:r,pdata:"refresh"})}},o=function(e){var r=_.truncate(e,50,"");doSelectInventoryTab("Job Sheets"),$("#divEvents").trigger("selectjobsheetbyorderno",{jobsheetno:r})},n={"XXX_VOICEPREFIXNAME order(s) dashboard":function(){doShowInfo("Received voice command: Switching to orders dashboard"),doSelectDashTab(0)},"XXX_VOICEPREFIXNAME create order":e,"XXX_VOICEPREFIXNAME create new order":e,"bXXX_VOICEPREFIXNAME create (new) order for *client":function(e){var r,o=_.truncate(e,50,""),n=new Fuse(cache_clients,{keys:["name"],caseSensitive:!1,shouldSort:!0});doSelectSalesTab("Orders"),$("#divEvents").trigger("orderspopup","clear"),$("#divEvents").trigger("orderspopup","new"),0<(r=n.search(o)).length?($("#cbNewOrderClients").combotree("setValue",r[0].id),doShowInfo("Received voice command: Preparing to create new order for ["+r[0].name+"]")):doShowInfo("Received voice command: Preparing to create new order but couldn't find matching client name")},"XXX_VOICEPREFIXNAME search (for) order(s)":r,"XXX_VOICEPREFIXNAME search (for) order *orderno":r,"XXX_VOICEPREFIXNAME (go to) job (sheet) :jobsheet":o,"XXX_VOICEPREFIXNAME (goto) job (sheet) :jobsheet":o,"XXX_VOICEPREFIXNAME calculate :term1 times :term2":function(e,r){var o=_.formatnumber(e,2),n=_.formatnumber(r,2),t=_.formatnumber(o*n,2);doShowResults(o+" x "+n+" is ["+t+"]")},"XXX_VOICEPREFIXNAME calculate :term1 divide(d) (by) :term2":function(e,r){var o=_.formatnumber(e,2),n=_.formatnumber(r,2),t=_.formatnumber(o/n,2);doShowResults(o+" / "+n+" is ["+t+"]")},"XXX_VOICEPREFIXNAME calculate :term1 + :term2":function(e,r){var o=_.formatnumber(e,2),n=_.formatnumber(r,2),t=_.formatnumber(o+n,2);doShowResults(o+" + "+n+" is ["+t+"]")},"XXX_VOICEPREFIXNAME calculate :term1 minus :term2":function(e,r){var o=_.formatnumber(e,2),n=_.formatnumber(r,2),t=_.formatnumber(o-n,2);doShowResults(o+" - "+n+" is ["+t+"]")},"XXX_VOICEPREFIXNAME calculate :term1 percent of :term2":function(e,r){var o=_.formatnumber(e,2),n=_.formatnumber(r,2),t=0==o&&0==n?0:_.formatnumber(n*o/100,2);doShowResults("% of "+n+" is ["+t+"]")},"XXX_VOICEPREFIXNAME calculate :term1 percent on :term2":function(e,r){var o=_.formatnumber(e,2),n=_.formatnumber(r,2),t=0==o&&0==n?0:_.formatnumber(n*o/100+n,2);doShowResults(o+"% markup on "+n+" is ["+t+"]")}};annyang.debug(),annyang.addCommands(n),annyang.setLanguage("en"),annyang.start()}else console.log("***** Voice commands not available")}